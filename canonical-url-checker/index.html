<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Canonical URL Finder</title>
<style>
body { font-family: sans-serif; max-width: 600px; margin: 2rem auto; padding: 1rem; }
input, button, textarea { width: 100%; margin-top: 0.5rem; padding: 0.5rem; }
pre { background: #f5f5f5; padding: 1rem; overflow-x: auto; }
</style>
</head>
<body>
<h2>Canonical URL Finder</h2>
<p>Enter a webpage URL to fetch its canonical URL (if available).</p>
<input type="text" id="urlInput" placeholder="https://example.com">
<button id="fetchBtn">Get Canonical URL</button>
<pre id="output"></pre>

<script>
document.getElementById('fetchBtn').addEventListener('click', async () => {
  const output = document.getElementById('output');
  const url = document.getElementById('urlInput').value.trim();
  output.textContent = 'Fetching...';
  try {
    const res = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`);
    const data = await res.json();
    const parser = new DOMParser();
    const doc = parser.parseFromString(data.contents, 'text/html');
    const canonical = doc.querySelector('link[rel="canonical"]');
    if (canonical && canonical.href) {
      output.textContent = `Canonical URL: ${canonical.href}`;
    } else {
      output.textContent = 'No canonical link found.';
    }
  } catch (err) {
    output.textContent = 'Error: ' + err.message;
  }
});
</script>
</body>
</html>
